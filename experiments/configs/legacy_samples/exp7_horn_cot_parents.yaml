name: exp7_horn_cot_parents

# Target selection (unified structure)
targets:
  - provider: anthropic
    model: claude-opus-4-1
    temperature: 0
    seed: 1234
    max_tokens: 2000
  - provider: google
    model: gemini-2.5-flash  # or gemini-2.5-pro
    temperature: 0
    seed: 1234
    max_tokens: 2000
  - provider: openai
    model: gpt-5             # Responses API
    temperature: 0
    seed: 1234
    max_tokens: 2000

# Input dataset and outputs
input_file: data/problems_dist20_v1.js
output_pattern: experiments/runs/${name}/${run}/${provider}/${model}/results.jsonl

# Filters
filters:
  horn_only: true
  skip_rows: 1

# Prompt configuration
prompt:
  template: prompts/exp7_horn_cot_parents.j2
  style: horn_if_then

# Parser configuration
parse:
  type: yes_no

# Concurrency and retry settings
concurrency:
  workers: 4
  lockstep: true
  rate_limit_per_min: 120
  retry:
    max_attempts: 3
    backoff_seconds: [2, 5, 10]

# Execution settings
resume: true
save_prompt: false
save_response: true

