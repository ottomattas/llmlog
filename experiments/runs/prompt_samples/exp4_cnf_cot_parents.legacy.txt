Your task is to solve a problem in propositional logic.
You will get a list of statements and have to determine whether the statements form a logical contradiction or not.
If the statements form a contradiction, the last word of your answer should be 'contradiction',
otherwise the last word should be either 'satisfiable' or 'unknown'.

Propositional variables are represented as 'pN' where N is a number. They are either true or false.
pN means that pN is true. not(pN) means that pN is false.
'X or Y' means that X is true or Y is true or both X and Y are true.
All the given statements are implicitly connected with 'and': they are all claimed to be true.
All the statements are horn clauses: this means that a statement is a disjunction (positive and negative variables connected with 'or') 
(if p1 and p2 are both true, then p3 is true).

In order to solve a problem, you must use the following method:
First, print out all the true variables which can be derived directly by some given statement from the given true variable statements present in the input
 (in other words, variables which are known to be true) 
and which are not already present in the given statements as positive single-variable statements. 

A true variable X is directly derivable by a statement S if and only if S consists of X and a number of negative variables not(Y), not(Z) etc, so that 
each of these negative variables Y, Z etc is true, that is, present as a given positive statement consisting of just this sole variable, or it has been derived earlier.
In other words, a variable X is directly derivable by some statements S1,...,Sn if X must be inevitably true in case all the statements in S1,...,Sn are true.
For example, p2 is derivable from 'not(p1) or not(p3) or p2' if and only if both p1 and p3 are either input statements like 'p1. p3.' or have
been derived earlier as true variables.
As a counter-example, p2 is not directly derivable from the statements (not(p3) or p2) and not(p3). p2 would be derivable from (not(p3) or p2) and a true variable p3.
As another counter-example, p1 is not directly derivable from the statements (not(p3) or not(p2) or p1) and p2 alone, in case p3 is not known to be a true variable. 
As a yet another counter-example, p3 is not directly derivable from (not(p3) or not(p2)) and p2 and p1.
As a yet another counter-example, p3 is not directly derivable from (not(p3) or p2) and p2.

After each derived variable print 'from' and the statements used for deriving it.
Then, print out all the true variables (along with the statements used for deriving) 
pand which have not been printed earlier.
Then continue the same procedure of printing out new directly derivable true variables from the statements, until either no new variables can be derived or a direct contradiction
is found with input and derived variables on one hand and some fully negative given statement on the other hand.
In case a contradiction is found, finally print 'contradiction' followed by 'from' and the statements used for the contradiction. 
finally print 'satisfiable'.

Do not print out anything except the derivable true variables, the statements used for deriving them, and the final answer.Twelve examples:
Example 1. Statements: p1. p2. not(p1). Answer: contradiction from (not(p1) and p1).
Example 2. Statements: p1. p2. not(p3). Answer: satisfiable.
Example 3. Statements: p1. not(p1) or p2. not(p2). Answer: p2 from (not(p1) or p2) and p1, contradiction from not(p2) and p2.
Example 4. Statements: p1. not(p1) or p3. not(p2) or not(p1). Answer: p3 from (not(p1) or p3) and p1, satisfiable.
Example 5. Statements: p1. not(p1) or p2. not(p2) or p3. not(p3). Answer: p2 from (not(p1) or p2) and p1, p3 from (not(p2) or p3) and p2, contradiction from not(p3) and p3.
Example 6. Statements: p1. not(p1) or p2. not(p2) or p1. not(p3). Answer: p2 from (not(p1) or p2) and p1, satisfiable.
Example 7. Statements: p1. p3. not(p1) or p2. not(p2) or not(p3) or p4. not(p4). Answer: p2 from (not(p1) or p2) and p1, p4 from (not(p2) or not(p3) or p4) and p2 and p3, contradiction from not(p4) and p4.
Example 8. Statements: p1. not(p1) or p2. not(p2) or not(p3) or p3. not(p3). Answer: p2 from (not(p1) or p2) and p1, satisfiable.
Example 9.  Statements: p6. p3. not(p3) or p1. not(p4) or p5. not(p5) or not(p4). not(p1) or not(p6) or p4. Answer: p1 from (not(p3) or p1) and p3, p4 from (not(p1) or not(p6) or p4) and p1 and p6, p5 from (not(p4) or p5) and p4, contradiction from (not(p5) or not(p4)) and p5 and p4.
Example 10. Statements: p6. p3. not(p3) or p1. not(p4) or p5. not(p1) or not(p6) or p4. Answer: p1 from (not(p3) or p1) and p3, p4 from (not(p1) or not(p6) or p4) and p1 and p6, p5 from (not(p4) or p5) and p4, satisfiable.
Example 11. Statements: p6. not(p3) or p4. not(p6) or p7. not(p5) or not(p6). not(p7) or p3. not(p4) or p5.  Answer: p7 from (not(p6) or p7) and p6, p3 from (not(p7) or p3) and p7, p4 from (not(p3) or p4) and p3, p5 from (not(p4) or p5) and p4, contradiction from (not(p5) or not(p6)) and p5 and p6.
Example 12. Statements: p6. not(p3) or p4. not(p6) or p7. not(p5) or not(p6). not(p7) or p3. not(p4) or p7.  Answer: p7 from (not(p6) or p7) and p6, p3 from (not(p7) or p3) and p7, p4 from (not(p3) or p4) and p3, satisfiable.

Please answer whether the following given statements form a logical contradiction or are satisfiable, using the method described above
and not printing out anything except the derivable true variables, the statements used for deriving them,  and the final answer.

Statements:
p1.
not(p3) or p1.
not(p3) or p2.
not(p2) or not(p1).
not(p2) or p1.
not(p3) or not(p2) or p1.


